{#
/**
 * @file
 * Default theme implementation to display a block.
 *
 * Available variables:
 * - plugin_id: The ID of the block implementation.
 * - label: The configured label of the block if visible.
 * - configuration: A list of the block's configuration values.
 *   - label: The configured label for the block.
 *   - label_display: The display settings for the label.
 *   - provider: The module or other provider that provided this block plugin.
 *   - Block plugin specific settings will also be stored here.
 * - content: The content of this block.
 * - attributes: array of HTML attributes populated by modules, intended to
 *   be added to the main container tag of this template.
 *   - id: A valid HTML ID and guaranteed unique.
 * - title_attributes: Same as attributes, except applied to the main title
 *   tag that appears in the template.
 * - content_attributes: Same as attributes, except applied to the main content
 *   tag that appears in the template.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 *
 * @see template_preprocess_block()
 *
 * @ingroup themeable
 */
#}

{% if content.actions.reset['#type'] == 'link' %}
  {% set extra_attributes = create_attribute() %}
  {% set reset = pattern('link', {
    'label': content.actions['reset']['#title'],
    'path': content.actions['reset']['#url'].toString(),
    'variant': 'secondary',
    'attributes': extra_attributes.addClass(['ms-2', 'btn', 'btn-secondary'])
  })
  %}
  {% set actions = content.actions %}
  {% set actions = actions|merge({('reset'): reset}) %}
  {% set content = content|merge({('actions'): actions}) %}
{% endif %}
{% set button_attributes = create_attribute().addClass(['d-lg-none', 'w-100', 'mb-4']) %}
{% set toogle_button = {
  'label': label,
  'variant': 'light',
  'size': 'lg',
  'icon': 'filter',
  'icon_position': 'before',
  'attributes': button_attributes
} %}
{% block content %}
  {{ pattern('offcanvas', {
    'variant': 'search',
    'title': label,
    'body': content,
    'placement': 'start',
    'body_scroll': false,
    'backdrop': true,
    'toggle': toogle_button,
  }) }}
{% endblock %}
